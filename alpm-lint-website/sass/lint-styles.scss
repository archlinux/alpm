/* Custom styles for ALPM Lint Rules website
 * 
 * This scss file only contains convenience classes to enable animations
 * via javascript and to overwrite template styles over which we have no control.
 */

// Global chevron animation rule
.chevron {
  transition: transform 0.3s ease-out;
}

// Chevron rotation when opening a dropdown
.dropdown-toggle.active .chevron {
  transform: rotate(180deg);
}

// Chevron rotation for expanded lint rules
.lint-rule:has(.lint-rule-content.expanded) .chevron {
  transform: rotate(180deg);
}

// Animations to un-/collapse a lint rule from the list
.lint-rule.hidden {
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
}

// Collapsible lint rule styles
.lint-rule-content {
  display: grid;
  transition: grid-template-rows 0.3s ease-out;
  overflow: hidden;

  &.collapsed {
    grid-template-rows: 0fr;
  }
  
  &.expanded {
    grid-template-rows: 1fr;
  }
  
  // Ensure the inner content can shrink properly
  > * {
    min-height: 0;
  }

  // The rust comments on the lint rules use `#` for headers.
  // This translates to `h1` for zola, which is **way** to big for the website.
  // Restyle `h1` to appear as `h3`.
  h1 {
    font-size: 18px;
    font-variation-settings: normal;
    font-weight: 600;
    line-height: 28px
  }
}

/*
 * Scoped name text breaking.
 * Enable breaking at word boundaries so that lint rule names breaks at the `::`
 * Check the `lint-rules.js` `setupScopedNameBreaking` function for more info.
 */
.scoped-name {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/*
 * Style overwrites for linkita's theme.
 *
 * This is specifically for the lint rule documentation section.
 * We cannot style that section via tailwind, as we have no control over the 
 * html elements that're generated by zola's markdown -> HTML process.
 *
 * Hence, we have to use CSS as a fallback.
 */

// Increase font size for code blocks.
// The text is super small otherwise
.lint-rule-documentation {
  pre {
    code {
      font-size: 0.75rem;
      line-height: 1.2;
    }
  }
}
